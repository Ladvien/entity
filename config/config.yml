# config/config.yml - Updated with proper TTS adapter configuration

config_version: "2.0"
debug: true

data:
  host: "192.168.1.104"
  port: 5432
  name: "memory"
  username: "${DB_USERNAME}"
  password: "${DB_PASSWORD}"
  db_schema: "entity"
  history_table: "chat_history"
  min_pool_size: 2
  max_pool_size: 10
  init_on_startup: true

ollama:
  base_url: "http://192.168.1.110:11434"
  model: "llama3:8b-instruct-q6_K"
  temperature: 0.7
  top_p: 0.9
  top_k: 40
  repeat_penalty: 1.1

# üî• TTS Configuration for speech server integration
tts:
  base_url: "http://192.168.1.110:8888" # Your speech server URL
  voice_name: "bf_emma"
  voice_sample_path: "voice_samples/ai_mee.wav"
  output_format: "wav"
  speed: 0.3
  cfg_weight: 0.9
  exaggeration: 0.5
  # Audio settings
  sample_rates: [44100, 48000, 22050, 16000, 8000]
  fade_out_samples: 2000

memory:
  collection_name: "entity_memory"
  embedding_model: "all-MiniLM-L6-v2"
  embedding_dimension: 384
  max_context_length: 1000
  similarity_threshold: 0.3
  memory_limit: 50
  pruning_enabled: true
  pruning_days: 90
  keep_important_threshold: 0.7
  min_access_count: 2

entity:
  entity_id: "jade"
  max_iterations: 500
  name: "Jade"

  # PROMPT STUFF

server:
  host: "0.0.0.0"
  port: 8000
  reload: false
  log_level: "info"

logging:
  level: "DEBUG"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file_enabled: true
  file_path: "logs/entity.log"
  max_file_size: 10485760
  backup_count: 5

tools:
  plugin_path: "./plugins_user/plugins"
  max_total_tool_uses: 5
  enabled:
    - name: memory_search
    - name: store_memory
    - name: fun_fact

# üéôÔ∏è ADAPTERS CONFIGURATION - This is where TTS gets enabled
adapters:
  - type: tts
    enabled: true
    settings:
      voice_name: "bf_emma" # Override if needed
      speed: 0.3 # Override if needed
